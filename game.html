<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Tycoon 2.0 </title>
    <style>
        :root {
            --neon: #00ff41;
            --gold: #ffd700;
            --bg: #050505;
            --panel: #111;
            --text: #eee;
            --accent: #003b00;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            margin: 0;
            padding-bottom: 80px;
            user-select: none;
        }

        /* 转专转 专 */
        .header {
            background: linear-gradient(180deg, #002200 0%, #000 100%);
            padding: 15px;
            border-bottom: 2px solid var(--neon);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .rank-badge {
            background: var(--neon);
            color: black;
            padding: 3px 10px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 5px;
        }

        /*  转拽转 */
        .progress-container {
            width: 80%;
            height: 10px;
            background: #333;
            margin: 10px auto;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: var(--gold);
            width: 0%;
            transition: width 0.5s;
        }

        /* 转爪转 住祝 */
        .stats {
            margin: 20px 0;
        }
        #balance {
            font-size: 3rem;
            font-weight: 800;
            color: var(--neon);
            text-shadow: 0 0 15px rgba(0, 255, 65, 0.4);
        }
        .gps-label { color: #888; font-size: 0.9rem; }

        /* 驻转专 拽 专砖 */
        .main-btn-container {
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hack-btn {
            width: 140px;
            height: 140px;
            background: radial-gradient(circle, #0a0a0a 0%, #000 100%);
            border: 2px dashed var(--neon);
            border-radius: 50%;
            color: var(--neon);
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 20px var(--accent);
            transition: 0.1s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .hack-btn:active { transform: scale(0.92); background: var(--accent); }
        
        /* 转 */
        .store-title {
            margin-top: 30px;
            border-top: 1px solid #333;
            padding-top: 20px;
            color: var(--gold);
        }

        .shop-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            padding: 10px;
            max-width: 600px;
            margin: 0 auto;
        }

        .item {
            background: var(--panel);
            border: 1px solid #333;
            padding: 15px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: 0.3s;
        }

        .item:hover { border-color: var(--neon); }
        .item.locked { opacity: 0.5; pointer-events: none; filter: grayscale(1); }

        .item-info { text-align: right; }
        .item-name { font-weight: bold; font-size: 1.1rem; }
        .item-desc { font-size: 0.8rem; color: #aaa; }
        
        .buy-btn {
            background: #222;
            color: white;
            border: 1px solid #555;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            min-width: 90px;
        }

        .buy-btn.affordable {
            background: var(--neon);
            color: black;
            border-color: var(--neon);
            box-shadow: 0 0 10px rgba(0,255,65,0.3);
        }

        /* 注转 爪驻转 */
        .float-text {
            position: absolute;
            color: white;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 1s forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }

    </style>
</head>
<body>

    <div class="header">
        <div id="rankName">RANK: SCRIPT KIDDIE</div>
        <div class="rank-badge" id="rankBadge">LEVEL 1</div>
        <div class="progress-container">
            <div class="progress-bar" id="rankProgress"></div>
        </div>
    </div>

    <div class="stats">
        <div> <span id="balance">0</span></div>
        <div class="gps-label">爪专 <span id="gps">0</span> 砖</div>
    </div>

    <div class="main-btn-container">
        <button class="hack-btn" id="mainBtn" onclick="clickHack(event)">
            <div>HACK</div>
            <div style="font-size:0.8rem; opacity:0.7;">TAP ME</div>
        </button>
    </div>

    <h3 class="store-title"> DARK WEB MARKET</h3>
    
    <div class="shop-grid" id="shopList">
        </div>

    <button onclick="resetGame()" style="margin-top:30px; background:none; border:1px solid red; color:red; padding:10px;">驻住  锔</button>

    <script>
        // 专转 砖拽
        const RANKS = [
            { name: "Script Kiddie", req: 0 },
            { name: "Grey Hat", req: 1000 },
            { name: "Black Hat", req: 5000 },
            { name: "Cyber Ghost", req: 20000 },
            { name: "Anonymous Leader", req: 100000 },
            { name: "Internet GOD", req: 1000000 }
        ];

        const ITEMS = [
            { id: 0, name: "VPN 驻专抓", desc: "爪专 1 砖", baseCost: 20, prod: 1 },
            { id: 1, name: " 住驻", desc: "爪专 5 砖", baseCost: 150, prod: 5 },
            { id: 2, name: "专住 住 RTX", desc: "爪专 15 砖", baseCost: 500, prod: 15 },
            { id: 3, name: "转 砖专转", desc: "爪专 50 砖", baseCost: 2000, prod: 50 },
            { id: 4, name: "专住 驻专", desc: "爪专 150 砖", baseCost: 7500, prod: 150 },
            { id: 5, name: "砖 拽", desc: "爪专 500 砖", baseCost: 30000, prod: 500 }
        ];

        let game = {
            money: 0,
            totalMoney: 0, // 注拽 专 专
            inventory: [0, 0, 0, 0, 0, 0] // 转  驻专
        };

        // 注
        if(localStorage.getItem('cyberSaveV2')) {
            game = JSON.parse(localStorage.getItem('cyberSaveV2'));
        }

        //  专砖转
        setInterval(() => {
            let gps = calculateGPS();
            if(gps > 0) {
                addMoney(gps);
            }
            saveGame();
        }, 1000);

        setInterval(updateUI, 100); // 注 住 专

        // 拽
        function calculateGPS() {
            let gps = 0;
            game.inventory.forEach((count, index) => {
                gps += count * ITEMS[index].prod;
            });
            return gps;
        }

        function addMoney(amount) {
            game.money += amount;
            game.totalMoney += amount;
        }

        function clickHack(e) {
            // 爪 转 转转 转专  砖专  转专
            let clickPower = 1 + Math.floor(calculateGPS() / 20);
            addMoney(clickPower);
            
            // 驻拽 爪祝
            showFloatText(e.clientX, e.clientY, "+" + clickPower);
        }

        function buyItem(index) {
            let cost = getCost(index);
            if(game.money >= cost) {
                game.money -= cost;
                game.inventory[index]++;
                updateUI();
            }
        }

        function getCost(index) {
            let item = ITEMS[index];
            // 专 注 -15%  拽
            return Math.floor(item.baseCost * Math.pow(1.15, game.inventory[index]));
        }

        // 砖拽 砖转砖
        function updateUI() {
            document.getElementById('balance').innerText = Math.floor(game.money).toLocaleString();
            document.getElementById('gps').innerText = calculateGPS().toLocaleString();

            updateRank();
            renderShop();
        }

        function updateRank() {
            let currentRank = 0;
            let nextReq = RANKS[1].req;
            
            // 爪转 专 转
            for(let i=0; i<RANKS.length; i++) {
                if(game.totalMoney >= RANKS[i].req) {
                    currentRank = i;
                }
            }

            // 注 拽住
            document.getElementById('rankName').innerText = "RANK: " + RANKS[currentRank].name;
            document.getElementById('rankBadge').innerText = "LEVEL " + (currentRank + 1);

            // 砖  转拽转
            if (currentRank < RANKS.length - 1) {
                let prevReq = RANKS[currentRank].req;
                let target = RANKS[currentRank + 1].req;
                let percent = ((game.totalMoney - prevReq) / (target - prevReq)) * 100;
                if(percent > 100) percent = 100;
                document.getElementById('rankProgress').style.width = percent + "%";
            } else {
                document.getElementById('rankProgress').style.width = "100%"; // 拽住
            }
        }

        function renderShop() {
            const list = document.getElementById('shopList');
            // 拽 专 砖 专拽  爪专 (  ) -  注砖 驻砖
            list.innerHTML = '';

            ITEMS.forEach((item, index) => {
                let cost = getCost(index);
                let count = game.inventory[index];
                let canAfford = game.money >= cost;

                let div = document.createElement('div');
                div.className = 'item';
                div.innerHTML = `
                    <div class="item-info">
                        <div class="item-name">${item.name} <span style="color:var(--gold)">x${count}</span></div>
                        <div class="item-desc">${item.desc} | 注: ${cost.toLocaleString()}</div>
                    </div>
                    <button class="buy-btn ${canAfford ? 'affordable' : ''}" 
                            onclick="buyItem(${index})" 
                            ${canAfford ? '' : 'disabled'}>
                        拽
                    </button>
                `;
                list.appendChild(div);
            });
        }

        // 驻拽 注专
        function showFloatText(x, y, text) {
            let el = document.createElement('div');
            el.className = 'float-text';
            el.innerText = text;
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1000);
        }

        function saveGame() {
            localStorage.setItem('cyberSaveV2', JSON.stringify(game));
        }

        function resetGame() {
            if(confirm(" 砖转 专爪 拽 ?")) {
                localStorage.removeItem('cyberSaveV2');
                location.reload();
            }
        }
        
        // 转 专砖 砖 转
        renderShop();
    </script>
</body>
</html>
