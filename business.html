<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××™××¤×¨×™×™×ª ×”×¢×¡×§×™× ğŸ†</title>
    <style>
        :root {
            --bg: #121212;
            --card: #1e1e1e;
            --text: #e0e0e0;
            --primary: #bb86fc;
            --locked: #333;
            --success: #03dac6;
            --danger: #cf6679;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding-bottom: 50px;
        }

        header {
            background: #292929;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 { margin: 0; font-size: 1.5rem; color: var(--primary); }
        .stats { font-size: 0.9rem; color: #aaa; margin-top: 5px; }

        /* ××¤×ª ×”×©×œ×‘×™× */
        .map-container {
            max-width: 500px;
            margin: 40px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            position: relative;
        }

        /* ×§×• ××—×‘×¨ ×‘×™×Ÿ ×”×©×œ×‘×™× */
        .map-line {
            position: absolute;
            width: 4px;
            background: #333;
            top: 20px;
            bottom: 20px;
            z-index: 0;
        }

        .level-node {
            width: 70px;
            height: 70px;
            background: var(--locked);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            z-index: 1;
            position: relative;
            border: 4px solid var(--bg);
            transition: 0.3s;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }

        .level-node.unlocked {
            background: var(--primary);
            color: black;
            box-shadow: 0 0 20px var(--primary);
        }

        .level-node.completed {
            background: var(--success);
            color: black;
            box-shadow: 0 0 20px var(--success);
        }

        .level-node::after {
            content: attr(data-label);
            position: absolute;
            width: 120px;
            text-align: center;
            font-size: 0.8rem;
            top: 110%;
            color: #aaa;
            font-weight: bold;
        }

        /* ××•×“×œ ×”×©×™×¢×•×¨ (×—×œ×•×Ÿ ×§×•×¤×¥) */
        .modal {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
            padding: 20px;
            box-sizing: border-box;
        }

        .lesson-card {
            background: var(--card);
            padding: 25px;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            text-align: right;
            border: 1px solid #444;
            max-height: 80vh;
            overflow-y: auto;
        }

        .lesson-title { color: var(--primary); margin-top: 0; border-bottom: 1px solid #444; padding-bottom: 10px; }
        .lesson-text { line-height: 1.6; font-size: 1.1rem; margin-bottom: 20px; }
        
        .option-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: #333;
            border: 1px solid #555;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.2s;
        }

        .option-btn:hover { background: #444; border-color: var(--primary); }
        .option-btn.correct { background: var(--success); color: black; border-color: var(--success); }
        .option-btn.wrong { background: var(--danger); border-color: var(--danger); }

        .close-btn {
            background: transparent; border: none; color: #aaa; float: left; font-size: 1.5rem; cursor: pointer;
        }

    </style>
</head>
<body>

    <header>
        <h1>××¡×œ×•×œ ×”×™×–××•×ª ğŸš€</h1>
        <div class="stats" id="userProgress">×©×œ×‘ 1 ××ª×•×š 12</div>
        <div style="font-size:0.8rem; color:orange; cursor:pointer; margin-top:5px;" onclick="resetGame()">[ ××™×¤×•×¡ ×”×ª×§×“××•×ª ]</div>
    </header>

    <div class="map-container" id="map">
        <div class="map-line"></div>
        </div>

    <div class="modal" id="lessonModal">
        <div class="lesson-card">
            <button class="close-btn" onclick="closeModal()">âœ–</button>
            <h2 class="lesson-title" id="modalTitle"></h2>
            <div class="lesson-text" id="modalContent"></div>
            
            <h3 style="margin-top:30px; font-size:1rem; color:#aaa;">××‘×—×Ÿ ×”×‘× ×”:</h3>
            <p id="modalQuestion" style="font-weight:bold; margin-bottom:15px;"></p>
            <div id="modalOptions"></div>
        </div>
    </div>

    <script>
        // --- ×ª×•×›×Ÿ ×”×§×•×¨×¡ ×”××œ× (12 ×©×œ×‘×™×) ---
        const levels = [
            // ×—×œ×§ 1: ×”×‘×¡×™×¡
            {
                title: "1. ×”×¨×¢×™×•×Ÿ (The Idea)",
                label: "×¨×¢×™×•×Ÿ",
                content: "×”×›×œ ××ª×—×™×œ ×‘×¨×¢×™×•×Ÿ, ××‘×œ ×¨×¢×™×•×Ÿ ×œ×‘×“ ×œ× ×©×•×•×” ×›×œ×•×. ×”×©××œ×” ×”×™×: ×”×× ×–×” ×¤×•×ª×¨ ×‘×¢×™×” ×××™×ª×™×ª? ×™×–× ×œ× ××—×¤×© '×¨×¢×™×•× ×•×ª ××’× ×™×‘×™×', ×”×•× ××—×¤×© '×‘×¢×™×•×ª ×›×•××‘×•×ª' ×©×× ×©×™× ××•×›× ×™× ×œ×©×œ× ×›×“×™ ×œ×¤×ª×•×¨.",
                q: "××™×–×” ×¨×¢×™×•×Ÿ ×¢×¡×§×™ ×”×•× ×”×˜×•×‘ ×‘×™×•×ª×¨?",
                options: ["×¨×¢×™×•×Ÿ ×©× ×©××¢ ×××© ××’× ×™×‘ ×œ×—×‘×¨×™× ×©×œ×™", "×¨×¢×™×•×Ÿ ×©×¤×•×ª×¨ ×‘×¢×™×” ×›×•××‘×ª ×œ×§×”×œ ×™×¢×“ ×¡×¤×¦×™×¤×™", "×¨×¢×™×•×Ÿ ×©××¢×ª×™×§ ×‘×“×™×•×§ ××ª ×¤×™×™×¡×‘×•×§"],
                ans: 1
            },
            {
                title: "2. ××—×§×¨ ×©×•×§ (Market Research)",
                label: "××—×§×¨ ×©×•×§",
                content: "×œ×¤× ×™ ×©××ª×” ××•×¦×™× ×©×§×œ, ×ª×‘×“×•×§. ××™ ×”×œ×§×•×—×•×ª? ××™ ×”××ª×—×¨×™×? ×”×× ×”×©×•×§ ××•×¦×£? ×ª×©×ª××© ×‘×’×•×’×œ ×˜×¨× ×“×¡, ×ª×¡×ª×›×œ ×‘×§×‘×•×¦×•×ª ×¤×™×™×¡×‘×•×§, ×ª×¨××” ××” ×× ×©×™× ×©×•××œ×™×. ××œ ×ª× ×—×© â€“ ×ª×‘×“×•×§.",
                q: "×œ××” ×¢×•×©×™× ××—×§×¨ ×©×•×§?",
                options: ["×›×“×™ ×œ××–×¢×¨ ×¡×™×›×•× ×™× ×•×œ×”×‘×™×Ÿ ××ª ×”×‘×™×§×•×©", "×›×“×™ ×œ×“×¢×ª ××™×–×” ×¦×‘×¢ ×œ×•×’×• ×œ×‘×—×•×¨", "×›×“×™ ×œ×”×¢×‘×™×¨ ××ª ×”×–××Ÿ"],
                ans: 0
            },
            {
                title: "3. MVP (×”××•×¦×¨ ×”××™× ×™××œ×™)",
                label: "MVP",
                content: "××œ ×ª×‘× ×” ××ª ×”××•×¦×¨ ×”××•×©×œ× ×‘××©×š ×©× ×ª×™×™×. ×ª×‘× ×” MVP (Minimum Viable Product) â€“ ×”×’×¨×¡×” ×”×›×™ ×¤×©×•×˜×” ×©×¢×•×‘×“×ª. ×ª×•×¦×™× ××•×ª×” ×œ×©×•×§, ×ª×§×‘×œ ×¤×™×“×‘×§, ×•×ª×©×¤×¨. ×›×™×©×œ×•×Ÿ ××”×™×¨ ×¢×“×™×£ ×¢×œ ×›×™×©×œ×•×Ÿ ××™×˜×™ ×•×™×§×¨.",
                q: "××” ×”××˜×¨×” ×©×œ MVP?",
                options: ["×œ×”×¨×•×•×™×— ××™×œ×™×•×Ÿ ×“×•×œ×¨ ×‘×™×•× ×”×¨××©×•×Ÿ", "×œ×œ××•×“ ××”×©×•×§ ×‘××™× ×™××•× ×”×©×§×¢×” ×•×–××Ÿ", "×œ×™×¦×•×¨ ××•×¦×¨ ×‘××™×›×•×ª × ××•×›×” ×›×“×™ ×œ×¢×¦×‘×Ÿ ×œ×§×•×—×•×ª"],
                ans: 1
            },
            
            // ×—×œ×§ 2: ×›×¡×£ ×•××¡×¤×¨×™×
            {
                title: "4. ×ª××—×•×¨ (Pricing)",
                label: "×ª××—×•×¨",
                content: "××™×š ×§×•×‘×¢×™× ××—×™×¨? ×œ× ×œ×¤×™ ×›××” ×¢×œ×” ×œ×š ×œ×™×™×¦×¨, ××œ× ×œ×¤×™ ×›××” ×¢×¨×š ×–×” × ×•×ª×Ÿ ×œ×œ×§×•×—. ×× ×¤×ª×¨×ª ×œ××™×©×”×• ×‘×¢×™×” ×©×œ 10,000 ×©×§×œ, ×”×•× ×™×©××— ×œ×©×œ× ×œ×š 1,000 ×©×§×œ, ×’× ×× ×”×¢×‘×•×“×” ×œ×§×—×” ×œ×š 5 ×“×§×•×ª.",
                q: "×”×ª××—×•×¨ ×¦×¨×™×š ×œ×”×ª×‘×¡×¡ ×‘×¢×™×§×¨ ×¢×œ:",
                options: ["×”×¢×œ×•×™×•×ª ×©×œ×™ + 10%", "×”×¢×¨×š ×©×”×œ×§×•×— ××§×‘×œ ××”××•×¦×¨", "×”××—×™×¨ ×”×›×™ × ××•×š ×‘×©×•×§"],
                ans: 1
            },
            {
                title: "5. ×”×›× ×¡×•×ª ××•×œ ×¨×•×•×— (Revenue vs Profit)",
                label: "×¨×•×•×—",
                content: "×”×›× ×¡×” ×–×” ×›××” ×›×¡×£ × ×›× ×¡ ×œ×§×•×¤×”. ×¨×•×•×— ×–×” ××” ×©× ×©××¨ ×œ×š ×‘×›×™×¡ ××—×¨×™ ×©×©×™×œ××ª ×”×›×œ. ×¢×¡×§ ×™×›×•×œ ×œ×”×›× ×™×¡ ××™×œ×™×•×Ÿ ×©×§×œ ×‘×—×•×“×© ×•×œ×”×™×•×ª ×‘×”×¤×¡×“ ×× ×”×”×•×¦××•×ª ×©×œ×• ×”×Ÿ 1.1 ××™×œ×™×•×Ÿ.",
                q: "××” ×™×•×ª×¨ ×—×©×•×‘ ×‘×¡×•×£ ×”×™×•×?",
                options: ["××—×–×•×¨ ×”××›×™×¨×•×ª (×›××” ××›×¨×ª×™)", "×©×•×¨×ª ×”×¨×•×•×— (×›××” × ×©××¨)", "××¡×¤×¨ ×”×¢×•×§×‘×™× ×‘××™× ×¡×˜×’×¨×"],
                ans: 1
            },
            {
                title: "6. ×ª×–×¨×™× ××–×•×× ×™× (Cash Flow)",
                label: "×ª×–×¨×™×",
                content: "×–×” ×”×¨×•×¦×— ×”×©×§×˜ ×©×œ ×¢×¡×§×™×. ×× ××›×¨×ª ×¡×—×•×¨×” ××‘×œ ×”×œ×§×•×— ××©×œ× ×‘'×©×•×˜×£ ×¤×œ×•×¡ 60', ×•×‘×™× ×ª×™×™× ××ª×” ×¦×¨×™×š ×œ×©×œ× ×œ×¡×¤×§×™× ×•×œ×¢×•×‘×“×™× â€“ × ×’××¨ ×œ×š ×”×›×¡×£ ×‘×‘× ×§ ×•×”×¢×¡×§ ×§×•×¨×¡, ×œ××¨×•×ª ×©×”×•× '×¨×•×•×—×™'.",
                q: "××”×™ ×‘×¢×™×™×ª ×ª×–×¨×™×?",
                options: ["×›×©××™×Ÿ ××¡×¤×™×§ ×œ×§×•×—×•×ª", "×›×©×™×© ×¤×¢×¨ ×–×× ×™× ×‘×™×Ÿ ×§×‘×œ×ª ×”×›×¡×£ ×œ×ª×©×œ×•× ×”×”×•×¦××•×ª", "×›×©×–×•×¨× ×™×•×ª×¨ ××“×™ ×›×¡×£"],
                ans: 1
            },

            // ×—×œ×§ 3: ×¦××™×—×” ×•×©×™×•×•×§
            {
                title: "7. ××™ ×”×œ×§×•×—? (Target Audience)",
                label: "×§×”×œ ×™×¢×“",
                content: "×× ××ª×” ×× ×¡×” ×œ××›×•×¨ ×œ×›×•×œ×, ××ª×” ×œ× ××•×›×¨ ×œ××£ ××—×“. ××ª×” ×—×™×™×‘ ×œ×”×™×•×ª ×¡×¤×¦×™×¤×™. '× ×©×™× ×‘×”×¨×™×•×Ÿ ×©×’×¨×•×ª ×‘×ª×œ ××‘×™×‘ ×•××•×”×‘×•×ª ×™×•×’×”' ×–×” ×§×”×œ. '×›×œ ×”× ×©×™×' ×–×” ×œ× ×§×”×œ.",
                q: "×§×”×œ ×™×¢×“ ××•×’×“×¨ ×˜×•×‘ ×”×•×:",
                options: ["×¨×—×‘ ×›×›×œ ×”××¤×©×¨", "×¡×¤×¦×™×¤×™ ×•×××•×§×“", "×¨×§ ×”×—×‘×¨×™× ×©×œ×™"],
                ans: 1
            },
            {
                title: "8. ××©×¤×š ×©×™×•×•×§×™ (Funnel)",
                label: "××©×¤×š",
                content: "×œ×§×•×— ×œ× ×¨×•××” ××•×“×¢×” ×•×™×©×¨ ×§×•× ×”. ×”×•× ×¢×•×‘×¨ ×ª×”×œ×™×š: ××•×“×¢×•×ª -> ×¢× ×™×™×Ÿ -> ×¨×¦×•×Ÿ -> ×¤×¢×•×œ×”. ×”×ª×¤×§×™×“ ×©×œ×š ×”×•× ×œ×”×¢×‘×™×¨ ××•×ª×• ×©×œ×‘ ×©×œ×‘ ×‘×œ×™ ×©×”×•× '×™×™×¤×•×œ' ××”××©×¤×š ×‘×“×¨×š.",
                q: "××” ×”×©×œ×‘ ×”×¨××©×•×Ÿ ×‘××©×¤×š?",
                options: ["×§× ×™×™×”", "××•×“×¢×•×ª (×©×”×œ×§×•×— ×™×›×™×¨ ××•×ª×™)", "×©×™×¨×•×ª ×œ×§×•×—×•×ª"],
                ans: 1
            },
            {
                title: "9. ×©×™××•×¨ ×œ×§×•×—×•×ª (Retention)",
                label: "×©×™××•×¨",
                content: "×”×¨×‘×” ×™×•×ª×¨ ×–×•×œ ×œ××›×•×¨ ×©×•×‘ ×œ×œ×§×•×— ×§×™×™× ×××©×¨ ×œ×”×‘×™× ×œ×§×•×— ×—×“×©. ×¢×¡×§ ×—×›× ×‘×•× ×” ××¢×¨×›×ª ×™×—×¡×™× ×œ×˜×•×•×— ××¨×•×š (LTV - Lifetime Value). ××œ ×ª×¢×©×” '××›×” ×•×‘×¨×—'.",
                q: "×œ××” ×—×©×•×‘ ×œ×©××¨ ×œ×§×•×—×•×ª?",
                options: ["×›×™ ×–×” ×–×•×œ ×•×¨×•×•×—×™ ×™×•×ª×¨ ××”×‘××ª ×œ×§×•×—×•×ª ×—×“×©×™×", "×›×“×™ ×©×œ× ×™×©×¢×× ×œ× ×•", "×–×” ×œ× ×—×©×•×‘, ×ª××™×“ ×™×© ×œ×§×•×—×•×ª ×—×“×©×™×"],
                ans: 0
            },

            // ×—×œ×§ 4: × ×™×”×•×œ ××ª×§×“×
            {
                title: "10. ×”××¦×œ×ª ×¡××›×•×™×•×ª",
                label: "× ×™×”×•×œ",
                content: "×™×–× ××ª×—×™×œ ×¢×•×©×” ×”×›×œ. ×™×–× ××ª×§×“× ×× ×”×œ ××—×¨×™×. ××ª×” ×œ× ×™×›×•×œ ×œ×’×“×•×œ ×× ××ª×” ×©×•×˜×£ ××ª ×”×¨×¦×¤×”, ×¢×•×©×” ×”× ×”×œ×ª ×—×©×‘×•× ×•×ª ×•×’× ××•×›×¨. ×ª×œ××“ ×œ×©×—×¨×¨ ×•×œ×ª×ª ×œ××—×¨×™× ×œ×¢×‘×•×“.",
                q: "××ª×™ ×›×“××™ ×œ×”×ª×—×™×œ ×œ×”××¦×™×œ ×¡××›×•×™×•×ª?",
                options: ["××£ ×¤×¢×, ××£ ××—×“ ×œ× ×™×¢×©×” ××ª ×–×” ×›××•× ×™", "×›×©×¤×¢×•×œ×•×ª ×˜×›× ×™×•×ª ×’×•×–×œ×•×ª ×œ×™ ×–××Ÿ ×©×¦×¨×™×š ×œ×”×™×•×ª ××•×©×§×¢ ×‘×¤×™×ª×•×— ×”×¢×¡×§", "××™×“ ×‘×”×ª×—×œ×” ×›×©××™×Ÿ ×›×¡×£"],
                ans: 1
            },
            {
                title: "11. ××™×ª×•×’ (Branding)",
                label: "××™×ª×•×’",
                content: "××•×ª×’ ×–×” ×œ× ×œ×•×’×•. ××•×ª×’ ×–×” ××” ×× ×©×™× ××¨×’×™×©×™× ×›×©×”× ×©×•××¢×™× ××ª ×”×©× ×©×œ×š. ×”×× ×–×” ×××™× ×•×ª? ×™×•×§×¨×”? ×›×™×£? ××”×™×¨×•×ª? ×”××•×ª×’ ×”×•× ×”×”×‘×˜×—×” ×©×œ×š ×œ×œ×§×•×—.",
                q: "××•×ª×’ ×—×–×§ ×××¤×©×¨ ×œ×š:",
                options: ["×œ×’×‘×•×ª ××—×™×¨ ×’×‘×•×” ×™×•×ª×¨ (×¤×¨××™×”)", "×œ×”×¤×¡×™×§ ×œ×¢×‘×•×“", "×œ×¤×˜×¨ ××ª ×›×œ ×”×¢×•×‘×“×™×"],
                ans: 0
            },
            {
                title: "12. ×”××§×–×™×˜ ××• ×”××™××¤×¨×™×”",
                label: "×¡×™×•×",
                content: "×›×œ ×”×›×‘×•×“! ×”×’×¢×ª ×œ×¤×¡×’×”. ×¢×›×©×™×• ×”×”×—×œ×˜×”: ×”×× ×œ××›×•×¨ ××ª ×”×¢×¡×§ (××§×–×™×˜) ×•×œ×§×—×ª ××ª ×”×›×¡×£, ××• ×œ×”××©×™×š ×œ×‘× ×•×ª ××•×ª×• ×œ××™××¤×¨×™×” ×©×ª×¤×¨× ×¡ ×’× ××ª ×”× ×›×“×™× ×©×œ×š? ××™×Ÿ ×ª×©×•×‘×” ×œ× × ×›×•× ×”.",
                q: "××” ×”×¦×¢×“ ×”×‘× ×©×œ×š?",
                options: ["×œ× ×•×— ×¢×œ ×–×¨×™ ×”×“×¤× ×”", "×œ×”×ª×—×™×œ ××ª ×”×›×œ ××—×“×© ×¢× ×¨×¢×™×•×Ÿ ××—×¨ ××• ×œ×”×’×“×™×œ ××ª ×”×§×™×™×", "×œ×‘×–×‘×– ××ª ×›×œ ×”×›×¡×£ ×‘×§×–×™× ×•"],
                ans: 1
            }
        ];

        // --- ×œ×•×’×™×§×” ---
        let maxLevel = 0;
        const mapEl = document.getElementById('map');
        const modal = document.getElementById('lessonModal');
        
        // ×˜×¢×™× ×”
        if(localStorage.getItem('bizEmpireLevel')) {
            maxLevel = parseInt(localStorage.getItem('bizEmpireLevel'));
        }

        renderMap();

        function renderMap() {
            mapEl.innerHTML = '<div class="map-line"></div>';
            document.getElementById('userProgress').innerText = `×”×ª×§×“××•×ª: ${maxLevel} ××ª×•×š ${levels.length}`;

            levels.forEach((lvl, i) => {
                const node = document.createElement('div');
                node.className = 'level-node';
                node.setAttribute('data-label', lvl.label);
                
                // ××™×™×§×•× ×™×
                if (i < maxLevel) {
                    node.classList.add('completed');
                    node.innerHTML = 'âœ”';
                    node.onclick = () => openLevel(i);
                } else if (i === maxLevel) {
                    node.classList.add('unlocked');
                    node.innerHTML = 'ğŸ”“'; // ×× ×¢×•×œ ×¤×ª×•×—
                    node.onclick = () => openLevel(i);
                } else {
                    node.innerHTML = 'ğŸ”’'; // ×× ×¢×•×œ ×¡×’×•×¨
                    node.style.cursor = 'not-allowed';
                    // ×©×œ×‘×™× × ×¢×•×œ×™× ×œ× ×œ×—×™×¦×™×
                }
                
                mapEl.appendChild(node);
            });
        }

        function openLevel(index) {
            const data = levels[index];
            document.getElementById('modalTitle').innerText = data.title;
            document.getElementById('modalContent').innerText = data.content;
            document.getElementById('modalQuestion').innerText = data.q;
            
            const optsDiv = document.getElementById('modalOptions');
            optsDiv.innerHTML = '';

            data.options.forEach((opt, optIndex) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                
                // ×× ×”×©×œ×‘ ×›×‘×¨ ×”×•×©×œ×, ×¨×§ ××¨××™× ××ª ×”×ª×•×›×Ÿ ×‘×œ×™ ×œ××¤×©×¨ ××‘×—×Ÿ ×—×•×–×¨ (××•×¤×¦×™×•× ×œ×™)
                // ××‘×œ ×›××Ÿ × ××¤×©×¨ ××‘×—×Ÿ ×ª××™×“
                btn.onclick = () => checkAnswer(btn, index, optIndex, data.ans);
                optsDiv.appendChild(btn);
            });

            modal.style.display = 'flex';
        }

        function checkAnswer(btn, levelIndex, selected, correct) {
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.disabled = true); // ×× ×™×¢×ª ×œ×—×™×¦×•×ª × ×•×¡×¤×•×ª

            if (selected === correct) {
                btn.classList.add('correct');
                // ×× ×–×” ×”×©×œ×‘ ×”× ×•×›×—×™ ×©×œ× ×•, ××§×“××™×
                if (levelIndex === maxLevel) {
                    maxLevel++;
                    localStorage.setItem('bizEmpireLevel', maxLevel);
                    setTimeout(() => {
                        closeModal();
                        renderMap();
                        // ×’×œ×™×œ×” ×œ××˜×” ×œ×©×œ×‘ ×”×‘×
                        window.scrollTo(0, document.body.scrollHeight);
                    }, 1500);
                } else {
                    setTimeout(closeModal, 1000); // ×¡×ª× ×ª×¨×’×•×œ ×—×•×–×¨
                }
            } else {
                btn.classList.add('wrong');
                setTimeout(() => {
                    allBtns.forEach(b => b.disabled = false);
                    btn.classList.remove('wrong');
                }, 1000);
            }
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        function resetGame() {
            if(confirm("×‘×˜×•×— ×©××ª×” ×¨×•×¦×” ×œ××—×•×§ ×”×›×œ ×•×œ×”×ª×—×™×œ ×××¤×¡?")) {
                localStorage.removeItem('bizEmpireLevel');
                maxLevel = 0;
                renderMap();
            }
        }
        
    </script>
</body>
</html>
