<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Architect: NLP Master </title>
    <style>
        :root {
            --bg: #0d1117;
            --panel: #161b22;
            --border: #30363d;
            --text: #c9d1d9;
            --green: #2ea043;
            --blue: #58a6ff;
            --purple: #bc8cff;
            --red: #da3633;
            --code-bg: #000000;
        }

        body {
            font-family: 'Consolas', 'Courier New', monospace; /* 驻 砖 转转 */
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Header: Resources --- */
        header {
            background: var(--panel);
            padding: 15px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .stat { text-align: center; }
        .stat-label { font-size: 0.7rem; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; }
        .stat-val { font-size: 1.2rem; font-weight: bold; }
        .gpu { color: var(--green); text-shadow: 0 0 10px rgba(46, 160, 67, 0.4); }
        .data { color: var(--blue); }
        .acc { color: var(--purple); }

        /* --- Terminal / Game Area --- */
        #terminal-window {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 700px;
            width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }

        .card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: slideUp 0.4s ease-out;
            position: relative;
            overflow: hidden;
        }

        /* 驻住 专拽 注 砖专 砖 "拽" */
        .card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--green), var(--blue));
        }

        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        h2 { margin-top: 0; color: var(--blue); font-size: 1.3rem; }
        .concept-tag {
            display: inline-block;
            background: #238636;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-bottom: 10px;
        }

        .code-block {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 4px;
            border-left: 3px solid var(--purple);
            font-family: 'Consolas', monospace;
            color: #e6edf3;
            margin-bottom: 20px;
            font-size: 0.9rem;
            white-space: pre-wrap; /* 砖专转 砖专转 */
        }

        .options-grid { display: flex; flex-direction: column; gap: 10px; }

        .btn {
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 15px;
            text-align: right;
            cursor: pointer;
            border-radius: 4px;
            transition: 0.2s;
            position: relative;
        }

        .btn:hover { border-color: var(--blue); background: #1f2428; }
        .btn:active { transform: scale(0.99); }

        .btn.correct { border-color: var(--green); background: rgba(46, 160, 67, 0.1); color: var(--green); }
        .btn.wrong { border-color: var(--red); background: rgba(218, 54, 51, 0.1); color: var(--red); }
        .btn.disabled { pointer-events: none; opacity: 0.6; }

        /* --- Logs Console () --- */
        #console-log {
            background: black;
            height: 120px;
            border-top: 1px solid var(--border);
            padding: 10px;
            font-size: 0.8rem;
            color: #8b949e;
            overflow-y: auto;
            font-family: 'Consolas', monospace;
        }
        .log-entry { margin-bottom: 4px; }
        .log-success { color: var(--green); }
        .log-error { color: var(--red); }
        .log-info { color: var(--blue); }
        
        /* 住  */
        .cursor::after { content: '_'; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        /* 驻转专 驻住 */
        .reset-btn {
            position: fixed;
            bottom: 130px; /* 注 拽住 */
            left: 10px;
            font-size: 0.7rem;
            background: transparent;
            border: 1px solid #333;
            color: #555;
            padding: 4px;
            cursor: pointer;
            z-index: 99;
        }
    </style>
</head>
<body>

    <header>
        <div class="stat">
            <div class="stat-label">Model Architecture</div>
            <div class="stat-val" id="ui-level" style="color:white;">Basic Bot</div>
        </div>
        <div class="stat">
            <div class="stat-label">Compute (GPU)</div>
            <div class="stat-val gpu" id="ui-gpu">0 TF</div>
        </div>
        <div class="stat">
            <div class="stat-label">Training Data</div>
            <div class="stat-val data" id="ui-data">0 GB</div>
        </div>
    </header>

    <div id="terminal-window">
        </div>

    <button class="reset-btn" onclick="hardReset()">Reset System</button>

    <div id="console-log">
        <div class="log-entry">> System initialized...</div>
        <div class="log-entry">> Loading NLP libraries...</div>
        <div class="log-entry cursor">> Waiting for user input...</div>
    </div>

    <script>
        const SAVE_KEY = 'nlp_master_v1';

        // --- 转 : 住 -NLP ---
        const CURRICULUM = [
            // 砖 1: 注 拽住 住住
            {
                tag: "Pre-processing",
                title: "砖 1:  砖 拽专?",
                desc: "砖  注   '',  专 专拽 住驻专. 砖 专砖  拽转 砖驻 拽 转 转转 拽转.",
                code: "Input: '  驻爪'\nProcess: ???\nOutput: ['', '', '驻爪']",
                q: " 拽专转 驻注 砖 拽转 砖驻  转?",
                opts: ["Tokenization (拽爪)", "Summarization (住)", "Translation (转专)"],
                a: 0,
                exp: "! 拽 =  住住转 (  拽 ). 拽爪  转."
            },
            {
                tag: "Cleaning",
                title: "拽 专注砖 (Stop Words)",
                desc: " 砖驻 砖  砖 住驻转 专 砖注转  '转', '砖', ''.  砖 砖  注,  驻专 .",
                code: "Original: '   转'\nFiltered: '  转'",
                q: " 拽专转  砖 住 爪?",
                opts: ["Key Words (转 驻转)", "Stop Words (转 注爪专)", "Bad Words (拽转)"],
                a: 1,
                exp: "拽. Stop Words   驻爪转  砖驻砖专 住专  住 专."
            },
            {
                tag: "Normalization",
                title: "砖专砖  (Stemming)",
                desc: "砖 爪专  砖-'转', '' -''  转 专 住住 (..).",
                code: "Input: ['running', 'runs', 'ran']\nGoal: Reduce to base form 'run'",
                q: "  注砖 Stemming?",
                opts: [" 砖砖 专 驻", " 爪爪 转 转  砖 爪专 ", " 转专 转"],
                a: 1,
                exp: ".  拽 转 '' 砖  注专   拽砖专."
            },
            
            // 砖 2: 爪 住驻专
            {
                tag: "Representation",
                title: "砖拽 砖  (Bag of Words)",
                desc: "注砖 砖砖  , 爪专 驻 转 住驻专. 砖  驻砖: 住驻专  驻注   驻注.",
                code: "Sentence: 'AI is great, AI is fun'\nVector: {AI: 2, is: 2, great: 1, fun: 1}",
                q: " 注 砖转 '砖拽 砖 '?",
                opts: [" 住转 ", " 转 转 住专  (拽砖专 注)", " 注转 专拽 注专转"],
                a: 1,
                exp: ". ' 转 转 ' -'  转' 专 转 专 砖 ,  住!"
            },

            // 砖 3: 专砖转转 专
            {
                tag: "Embeddings",
                title: "拽专 (Word Embeddings)",
                desc: "拽 住转 住驻专,  专爪 砖 注 砖注转   住驻专 . (砖: '' -''  拽专 转转).",
                code: "King - Man + Woman = ???",
                q: " 转 转爪 砖 砖 驻专住转  -NLP?",
                opts: ["Prince (住)", "Queen ()", "Castle (专)"],
                a: 1,
                exp: "拽住拽!   Word2Vec 注 注砖转 转拽 注 砖注转 砖 ."
            },
            {
                tag: "Deep Learning",
                title: " 砖 专爪祝 (RNN)",
                desc: "  砖驻, 爪专 专  专 转. 专砖转转 RNN (Recurrent Neural Networks)    注 专 拽爪专.",
                q: " RNN  拽住?",
                opts: ["  注 转  驻 住专 砖专 拽砖专", "    转转", "   爪专 砖"],
                a: 0,
                exp: ".  拽专 - 注专 '专'  拽转 ."
            },

            // 砖 4: 注 砖
            {
                tag: "Transformers",
                title: " 拽砖 (Attention)",
                desc: "驻 ! 拽 拽专 驻 住专,  住转 注  砖驻 转 转    拽砖专转 转 砖.",
                code: "砖驻: '拽 住专  专 注 注 转'.\n '转' 拽砖专 '拽'  '专'?",
                q: "  -Attention 注砖?",
                opts: ["转注  拽砖转", "转 '砖拽' (砖转) 拽砖专   砖转 砖驻", "拽 专住"],
                a: 1,
                exp: "拽.   砖驻砖专   ChatGPT  拽砖专 专 专."
            },
            {
                tag: "LLM",
                title: "GPT & BERT",
                desc: "  注拽 砖拽专 转  专.   专拽 住 拽住,  注 爪专 拽住 砖 (Generative AI).",
                q: " 驻专砖 砖 转 G -GPT?",
                opts: ["Great (专)", "Generative (爪专/)", "Google ()"],
                a: 1,
                exp: "Generative Pre-trained Transformer.  砖爪专 拽住 注 住住  砖  专砖."
            }
        ];

        // --- 专注 住驻 (专 ) ---
        const EVENTS = [
            { t: "Data Leak", q: "转 砖拽    注 砖 砖 砖!", opts: ["转转注,  砖驻专 转 ", "拽 转 注  砖 (注转 )", "转爪驻 转 注"], a: 1, cost: 50, reward: 200 },
            { t: "Overfitting", q: " 砖 砖 转 转砖转 注 驻 拽  (Overfitting).", opts: ["转住祝 注  ", "转砖  转 注 砖注", "转拽 转 "], a: 0, cost: 20, reward: 150 },
            { t: "New GPU", q: " 爪 专住 住 砖. 拽转?", opts: ["! (注转: 100 )", ", 住转专 注  砖砖", " 爪注"], a: 0, cost: 100, reward: 500 }, // Reward here is processing power
            { t: "Bias", q: " 砖 转 转砖转 砖住转.  注砖?", opts: ["  砖", "转拽 转   转 (Fine-tuning)", "住专 转 专"], a: 1, cost: 40, reward: 300 }
        ];

        // --- 爪 注专转 ---
        let state = {
            gpu: 10,  //  砖
            data: 0,  //  砖爪专
            qIndex: 0, // 驻  拽专拽
            arch: "Rule Based Script" // 砖  
        };

        // --- 转 ---
        function init() {
            if(localStorage.getItem(SAVE_KEY)) {
                try { state = JSON.parse(localStorage.getItem(SAVE_KEY)); } catch(e) {}
            }
            updateStats();
            renderTurn();
        }

        function updateStats() {
            document.getElementById('ui-gpu').innerText = state.gpu + " TF";
            document.getElementById('ui-data').innerText = state.data + " GB";
            
            // 注 砖 专拽专 驻 转拽转
            if (state.qIndex > 2) state.arch = "Statistical Model";
            if (state.qIndex > 5) state.arch = "Neural Network (RNN)";
            if (state.qIndex > 7) state.arch = "Transformer (GPT-4)";
            
            document.getElementById('ui-level').innerText = state.arch;
        }

        function renderTurn() {
            const container = document.getElementById('terminal-window');
            container.innerHTML = '';

            let content;
            let isEvent = false;

            // 拽   砖   砖 住驻
            if (state.qIndex < CURRICULUM.length) {
                content = CURRICULUM[state.qIndex];
            } else {
                isEvent = true;
                content = generateEvent();
            }

            // 爪专转 -HTML 砖 专住
            const card = document.createElement('div');
            card.className = 'card';
            
            let html = `
                <span class="concept-tag">${content.tag || 'SYSTEM EVENT'}</span>
                <h2>${content.title || content.t}</h2>
                <p>${content.desc || content.q}</p>
            `;

            if (content.code) {
                html += `<div class="code-block">${content.code}</div>`;
            }

            if (!isEvent) {
                html += `<p style="font-weight:bold; margin-top:20px;">${content.q}</p>`;
            }

            html += `<div class="options-grid">`;
            content.opts.forEach((opt, i) => {
                html += `<div class="btn" onclick="handleAnswer(this, ${i}, ${content.a}, '${escapeQuotes(content.exp || '')}', ${isEvent})">${opt}</div>`;
            });
            html += `</div>`;

            card.innerHTML = html;
            container.appendChild(card);
        }

        function generateEvent() {
            const ev = EVENTS[Math.floor(Math.random() * EVENTS.length)];
            // 住驻转 注转 转
            return {
                ...ev,
                tag: "Live Production",
                title: "System Alert 锔",
                code: null,
                desc: null
            };
        }

        function handleAnswer(btn, selected, correct, explanation, isEvent) {
            // 注转 驻转专
            const btns = document.querySelectorAll('.btn');
            btns.forEach(b => b.classList.add('disabled'));

            const isCorrect = (selected === correct);

            if (isCorrect) {
                btn.classList.add('correct');
                log(`> Answer Correct. Optimization complete.`, 'success');
                if (explanation) log(`> Note: ${explanation}`, 'info');
                
                // 转
                state.gpu += isEvent ? 50 : 20;
                state.data += isEvent ? 100 : 50;
            } else {
                btn.classList.add('wrong');
                // 住 
                btns[correct].classList.remove('disabled');
                btns[correct].classList.add('correct');
                
                log(`> Error: Incorrect parameters selected.`, 'error');
                if (explanation) log(`> Correction: ${explanation}`, 'info');
            }

            // 砖专 转拽转
            if (!isEvent) state.qIndex++;
            save();
            updateStats();

            // 注专 
            setTimeout(() => {
                renderTurn();
                //  拽住   砖专 ""
                const consoleLog = document.getElementById('console-log');
                consoleLog.scrollTop = consoleLog.scrollHeight;
            }, 2500);
        }

        function log(msg, type = '') {
            const consoleLog = document.getElementById('console-log');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            if (type === 'success') entry.classList.add('log-success');
            if (type === 'error') entry.classList.add('log-error');
            if (type === 'info') entry.classList.add('log-info');
            entry.innerText = msg;
            consoleLog.appendChild(entry);
            consoleLog.scrollTop = consoleLog.scrollHeight;
        }

        function escapeQuotes(str) {
            return str.replace(/'/g, "\\'");
        }

        function save() {
            localStorage.setItem(SAVE_KEY, JSON.stringify(state));
        }

        function hardReset() {
            if(confirm("Reboot System? (Delete Progress)")) {
                localStorage.removeItem(SAVE_KEY);
                location.reload();
            }
        }

        // Run
        init();

    </script>
</body>
</html>
